{
  target:
{
  "data": {
    "childEntities": [
      {
        "property": "Value2",
        "parent": {
          "property": "Value1",
          "children": [
            {
              "property": "Value2",
              "parent": {
                "property": "Value1"
              }
            },
            {
              "property": "Value3",
              "parent": {
                "property": "Value1"
              }
            }
          ]
        }
      },
      {
        "property": "Value3",
        "parent": {
          "property": "Value1",
          "children": [
            {
              "property": "Value2",
              "parent": {
                "property": "Value1"
              }
            },
            {
              "property": "Value3",
              "parent": {
                "property": "Value1"
              }
            }
          ]
        }
      },
      {
        "property": "Value5",
        "parent": {
          "property": "Value4",
          "children": [
            {
              "property": "Value5",
              "parent": {
                "property": "Value4"
              }
            }
          ]
        }
      }
    ]
  }
},
  sql: {
    Text:
select   c.Id,
         c.Property,
         case when p.Id is null then cast (1 as bit) else cast (0 as bit) end,
         p.Id,
         p.Property,
         s.Id,
         s.Property,
         s.c,
         s.Id0,
         s.Property0
from     ChildEntities as c
         left outer join
         ParentEntities as p
         on c.ParentId = p.Id
         left outer join
         (select c0.Id,
                 c0.Property,
                 case when p0.Id is null then cast (1 as bit) else cast (0 as bit) end as c,
                 p0.Id as Id0,
                 p0.Property as Property0,
                 c0.ParentId
          from   ChildEntities as c0
                 left outer join
                 ParentEntities as p0
                 on c0.ParentId = p0.Id) as s
         on p.Id = s.ParentId
order by c.Property, c.Id, p.Id, s.Id
  }
}